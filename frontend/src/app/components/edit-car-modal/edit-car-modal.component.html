<div
    #editCarModal
    class="modal fade"
    id="editCarModal"
    tabindex="-1"
    aria-labelledby="editCarModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Edit car</h5>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form #editCarModalForm="ngForm" (ngSubmit)="onEditCar()">
                    <div class="mb-3">
                        <label for="carBrand" class="form-label"
                            >üè∑Ô∏è Car Brand:</label
                        >
                        <select
                            class="form-select"
                            id="carBrand"
                            aria-label="Select car brand"
                            name="carBrand"
                            [(ngModel)]="car.brand"
                            #carBrand="ngModel"
                            required>
                            <option [value]="null" selected>
                                Select Brand
                            </option>
                            <option
                                *ngFor="let brand of brands"
                                [value]="brand">
                                {{ brand }}
                            </option>
                        </select>
                        <div class="text-danger" *ngIf="carBrand.touched">
                            <small *ngIf="carBrand.errors?.['required']"
                                >Please select a car model!</small
                            >
                        </div>
                    </div>
                    <div class="mb-3" *ngIf="car.brand">
                        <label for="carModel" class="form-label"
                            >üöó Car Model:</label
                        >
                        <select
                            class="form-select"
                            id="carModel"
                            aria-label="Select car model"
                            name="carModel"
                            [(ngModel)]="car.model"
                            #carModel="ngModel"
                            required>
                            <option [value]="null" selected>
                                Select Model
                            </option>
                            <option
                                *ngFor="let model of models[car.brand]"
                                [value]="model">
                                {{ model }}
                            </option>
                        </select>
                        <div class="text-danger" *ngIf="carModel.touched">
                            <small *ngIf="carModel.errors?.['required']"
                                >Please select a car model!</small
                            >
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="fabricationYear" class="form-label"
                            >üìÖ Fabrication Year:</label
                        >
                        <input
                            type="text"
                            class="form-control"
                            id="fabricationYear"
                            name="fabricationYear"
                            [(ngModel)]="car.fabricationYear"
                            #fabricationYear="ngModel"
                            maxlength="4"
                            pattern="^(19[0-9]{2}|20[0-1][0-9]|202[0-4])$"
                            placeholder="Enter fabrication year"
                            required />
                        <div
                            class="text-danger"
                            *ngIf="fabricationYear.touched">
                            <small *ngIf="fabricationYear.errors?.['required']"
                                >Please insert the fabrication year!</small
                            >
                            <small *ngIf="fabricationYear.errors?.['pattern']">
                                Year must be between 1900 and 2024.
                            </small>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="licensePlate" class="form-label"
                            >üî§ License Plate:</label
                        >
                        <input
                            type="text"
                            class="form-control"
                            id="licensePlate"
                            name="licensePlate"
                            [(ngModel)]="car.licensePlate"
                            #licensePlate="ngModel"
                            maxlength="7"
                            placeholder="Enter license plate"
                            pattern="^[A-Z]{1,2}\d{2,3}[A-Z]{3}$"
                            required />
                        <div class="text-danger" *ngIf="licensePlate.touched">
                            <small *ngIf="licensePlate.errors?.['required']"
                                >Please insert the license plate!</small
                            >
                            <small *ngIf="licensePlate.errors?.['pattern']"
                                >Please enter a valid license plate!</small
                            >
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-bs-dismiss="modal">
                            Close
                        </button>
                        <button
                            type="submit"
                            class="btn btn-primary"
                            [disabled]="!editCarModalForm.valid">
                            Save changes
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
